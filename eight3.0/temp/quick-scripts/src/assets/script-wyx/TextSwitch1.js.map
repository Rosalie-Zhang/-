{"version":3,"sources":["assets\\script\\TextSwitch1.js"],"names":["cc","Class","Component","properties","textLabel","Label","onLoad","init","content","systemEvent","on","onKeyDown","onDestroy","off","e","keyCode","macro","KEY","space","nextTextData","textDateArr","nowText","textEnd","tt","textIndex","node","active","getChildByName","length","setTextData","closeDialog","textDate","string","update","dt","slice"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        textLabel:cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.init([\r\n            {content:'一个小时过去了，你依旧没搞定这个bug。'},\r\n            {content:'你还记得你曾经多少次编错代码，你开始怀疑自己加入机器人社团的决定。'},\r\n            {content:'虽说是儿时的梦想，可繁琐的代码和层出不穷的bug终究成为你的绊脚石。'},\r\n            {content:'和你组队的同学怨声载道，再坚持下去似乎只能成为大家的累赘。'},\r\n            {content:'你叹了口气，决定：'}\r\n        ]);\r\n        cc.systemEvent.on('keydown',this.onKeyDown,this);//绑定键盘\r\n    },\r\n    onDestroy(){\r\n        cc.systemEvent.off('keydown',this.onKeyDown,this);\r\n    },\r\n    onKeyDown(e){\r\n        switch(e.keyCode){\r\n            case cc.macro.KEY.space:{\r\n                this.nextTextData();\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    init(textDateArr){\r\n        this.nowText=null;\r\n        this.textEnd=true;\r\n        this.tt=0;//播放的总时长\r\n        this.textIndex=-1;\r\n        this.textDateArr=textDateArr;\r\n        this.node.active=true;\r\n        this.node.getChildByName(\"Button1\").active = false;\r\n        this.node.getChildByName(\"Button2\").active = false;\r\n        this.nextTextData()\r\n    },\r\n\r\n    // init(){\r\n    //     this.node.getChildByName(\"Button1\").active = false;\r\n    //     this.node.getChildByName(\"Button2\").active = false;\r\n    // },\r\n\r\n    nextTextData(){\r\n        if(!this.textEnd)return;\r\n        if(++this.textIndex< this.textDateArr.length){\r\n            this.setTextData(this.textDateArr[this.textIndex]);\r\n        }else{\r\n            if (this.textIndex == this.textDateArr.length){\r\n                this.node.getChildByName(\"Button1\").active = true;\r\n                this.node.getChildByName(\"Button2\").active = true;\r\n                this.textIndex++;\r\n            }else{\r\n                this.closeDialog();\r\n            }\r\n        }\r\n    },\r\n    setTextData(textDate){\r\n        if(!this.textEnd)return;\r\n        this.textEnd=false;\r\n        this.textLabel.string='';\r\n        this.nowText=textDate.content;\r\n\r\n    },\r\n    closeDialog(){\r\n        this.node.active=false;\r\n    },\r\n\r\n    // start () {\r\n    // },\r\n\r\n//     setText(){\r\n//         var str = this.getComponent(cc.Label).string;\r\n//         var j = 0;\r\n//         this.getComponent(cc.Label).string = \"\";\r\n//         this.schedule(function () {\r\n//             this.getComponent(cc.Label).string += str[j];\r\n//             j++;\r\n//         }, 0.1, str.length - 1, 0.2);\r\n// }\r\n\r\n\r\n    update (dt) {\r\n        if(!this.nowText)return;\r\n        this.tt+=dt;\r\n        if(this.tt>=0.1){\r\n            if(this.textLabel.string.length<this.nowText.length){\r\n                this.textLabel.string=this.nowText.slice(0,this.textLabel.string.length+1)\r\n            }else{\r\n                this.textEnd=true;\r\n                this.nowText=null;\r\n            }\r\n            this.tt=0;\r\n        }\r\n    },\r\n});\r\n"]}