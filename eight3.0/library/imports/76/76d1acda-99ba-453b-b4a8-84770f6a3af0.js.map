{"version":3,"sources":["assets\\scripts\\zzy\\textbox.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;AAClF,6CAAwC;AACxC,qCAAgC;AAC1B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C;IAGK,iBAAY,OAAc;QACvB,IAAI,CAAC,OAAO,GAAC,OAAO,CAAC;IACxB,CAAC;IACN,cAAC;AAAD,CANA,AAMC,IAAA;AAGD;IAAqC,2BAAY;IAAjD;QAAA,qEAsCC;QAnCG,eAAS,GAAS,IAAI,CAAC;QAGvB,yBAAmB,GAAa,IAAI,CAAC;QAErC,MAAM;QACN,UAAI,GAAW,IAAI,CAAC;QACpB,WAAK,GAAQ,CAAC,CAAC;;IA4BnB,CAAC;IAzBG,uBAAK,GAAL;QAAA,iBAwBC;QAvBD,IAAI,CAAC,IAAI,GAAC;YACN,IAAI,OAAO,CAAC,UAAU,CAAC;SAAE,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAC,UAAC,KAAK;YAChD,IAAG,KAAI,CAAC,KAAK,IAAE,KAAI,CAAC,IAAI,CAAC,MAAM,EAAC;gBAC7B,cAAc;gBACd,IAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,IAAE,KAAK,EAAC;oBACjC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBACrC;gBACD,KAAK;gBACL,IAAI,GAAG,GAAC,KAAI,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,EAAE,CAAC,CAAC;gBAChC,MAAM;gBACN,IAAI,OAAK,GAAQ,EAAE,CAAC;gBACpB,IAAI,QAAM,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;wCAC3B,CAAC;oBACL,UAAU,CAAC;wBACP,OAAK,IAAI,QAAM,CAAC,CAAC,CAAC,CAAC;wBACnB,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAK,CAAC,CAAC;oBACrC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;gBAJd,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE;4BAAlC,CAAC;iBAKR;aAAC;YACH,IAAG,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,IAAE,KAAK,EAAC;gBAC9C,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aAC5C;QACH,CAAC,CAAC,CAAC;IACJ,CAAC;IAlCD;QADC,QAAQ,CAAC,iBAAO,CAAC;8CACK;IAGvB;QADC,QAAQ,CAAC,qBAAW,CAAC;wDACe;IANpB,OAAO;QAD3B,OAAO;OACa,OAAO,CAsC3B;IAAD,cAAC;CAtCD,AAsCC,CAtCoC,EAAE,CAAC,SAAS,GAsChD;kBAtCoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\nimport jump_button from \"./jump_button\";\r\nimport message from \"./message\";\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nclass Message{\r\n     content:string;\r\n\r\n     constructor(content:string){\r\n        this.content=content;\r\n     }\r\n}\r\n\r\n@ccclass\r\nexport default class textbox extends cc.Component {\r\n    \r\n    @property(message)\r\n    Mscontrol:message=null;\r\n\r\n    @property(jump_button)\r\n    jump_button_control:jump_button=null;\r\n    \r\n    //消息数组\r\n    msgs:Message[]=null;\r\n    index:number=0;\r\n    \r\n\r\n    start () {\r\n    this.msgs=[\r\n        new Message(\"来探索一下走廊吧\") ];\r\n     this.node.on(cc.Node.EventType.MOUSE_DOWN,(event)=>{\r\n     if(this.index<=this.msgs.length){\r\n        //如果对话面板没显示，显示\r\n        if(this.Mscontrol.node.active==false){\r\n            this.Mscontrol.node.active = true;\r\n        }\r\n        //读消息\r\n        let mes=this.msgs[this.index++];\r\n        //显示消息\r\n        let world:string=\"\";\r\n        let letter = mes.content.split(\"\");\r\n        for(let i = 0; i < mes.content.length; i++){\r\n            setTimeout(()=>{\r\n                world += letter[i];\r\n                this.Mscontrol.setMessage(world);\r\n            },60*(i));\r\n        }}\r\n       if(this.jump_button_control.node.active==false){\r\n        this.jump_button_control.node.active = true;\r\n       }\r\n     }); \r\n    }\r\n}\r\n\r\n    "]}